<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Episode 6 ‚Äì Special Messages</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fff5f8;
      --text: #333;
      --accent: #ff70a6;
    }
    body.dark {
      --bg: #1a1a2e;
      --text: #f9f9f9;
      --accent: #9d8dff;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Nanum Pen Script', cursive;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
      cursor: none;
      transition: background 0.5s, color 0.5s;
    }

    h1 {
      text-align: center;
      margin: 30px 0;
      font-size: 3rem;
      color: var(--accent);
    }

    #themeToggle {
      position: fixed;
      top: 15px;
      right: 15px;
      padding: 8px 16px;
      background: var(--accent);
      border: none;
      color: #fff;
      font-size: 1rem;
      border-radius: 20px;
      cursor: pointer;
      z-index: 1001;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      justify-content: center;
      padding: 40px;
    }

    .gift {
      width: 100px;
      height: 100px;
      background: url('giftbox.png') no-repeat center/cover;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .gift:hover {
      transform: scale(1.1);
    }

    #messagePopup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--bg);
      color: var(--text);
      border: 3px dashed var(--accent);
      padding: 30px;
      max-width: 90%;
      width: 400px;
      text-align: center;
      border-radius: 20px;
      z-index: 999;
      box-shadow: 0 0 30px rgba(0,0,0,0.3);
    }

    #messagePopup h2 {
      margin-bottom: 20px;
      font-size: 2rem;
      color: var(--accent);
    }

    #messagePopup p {
      font-size: 1.4rem;
      white-space: pre-wrap;
    }

    #closeBtn {
      margin-top: 20px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 8px 16px;
      font-size: 1rem;
      border-radius: 20px;
      cursor: pointer;
    }

    #cursor {
      width: 20px;
      height: 20px;
      background: var(--accent);
      border-radius: 50%;
      position: fixed;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 10000;
      mix-blend-mode: difference;
    }

    .trail {
      width: 6px;
      height: 6px;
      background: var(--accent);
      border-radius: 50%;
      position: fixed;
      pointer-events: none;
      animation: fade 0.6s forwards;
      z-index: 9999;
    }

    @keyframes fade {
      to {
        opacity: 0;
        transform: scale(0);
      }
    }

    .particle {
      position: fixed;
      width: 10px;
      height: 10px;
      background: pink;
      border-radius: 50%;
      opacity: 0.6;
      pointer-events: none;
      animation: float 12s linear infinite;
    }

    @keyframes float {
      to {
        transform: translateY(-120vh);
      }
    }

    #easter {
      position: fixed;
      bottom: 20px;
      left: 20px;
      font-size: 28px;
      opacity: 0.3;
      cursor: pointer;
      z-index: 1001;
    }

    #secret {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #ffe0f7;
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      font-size: 1.5rem;
      z-index: 1001;
      box-shadow: 0 0 30px rgba(0,0,0,0.4);
    }

    body.dark #secret {
      background: #2a2547;
      color: #fff;
    }
  </style>
</head>
<body>
  <div id="cursor"></div>
  <button id="themeToggle" onclick="toggleTheme()">Toggle Theme</button>
  <h1>üéÅ Special Messages</h1>

  <div class="container" id="giftContainer"></div>

  <div id="messagePopup">
    <h2 id="senderName"></h2>
    <p id="messageText"></p>
    <button id="closeBtn" onclick="closePopup()">Close</button>
  </div>

  <div id="easter" onclick="document.getElementById('secret').style.display='block'">‚≠ê</div>
  <div id="secret">üíñ You found the secret star! You're loved more than you know.</div>

  <audio id="bgm" loop>
    <source src="Song1.mp3" type="audio/mpeg">
  </audio>

  <script>
    const messages = [
      { sender: "Shadman", text: "happy bday hrum, congrats on turning 19, but IMAGINE turning into an odd number, i could NEVER, i think this year is gonna be ASS for you but Good luck, ur parents are probably looking for marriage partners too, get uzair in line if you dont like anyone they choose (i hope u choose uzair bhai), plus, you could probably beat Ahmed Ali in an arm wrestle, but if you lose then u lost to a guy whose been using malaria as an excuse for over 5 years cus bros lazy to gain muscle üòÇ and i know you might think im bigger now since you got older, but no, u didnt get taller, ur still a midget and wont even reach the top shelf, women stop growing at 18 or something, but good news is you can pick up rocks faster and throw it at me or uzair üòÇ" },
      { sender: "Ali", text: "Thanks for always being there. Happy birthday!" },
      { sender: "Sara", text: "Wishing you joy and love always!" },
      { sender: "Usman", text: "You're truly one of a kind. Never change!" },
      { sender: "Noona", text: "My favorite person in the universe!" }
    ];

    const giftContainer = document.getElementById('giftContainer');

    messages.forEach((msg, i) => {
      const gift = document.createElement('div');
      gift.className = 'gift';
      gift.onclick = () => showPopup(msg.sender, msg.text);
      giftContainer.appendChild(gift);
    });

    function showPopup(sender, text) {
      document.getElementById('senderName').textContent = `From: ${sender}`;
      document.getElementById('messageText').textContent = text;
      document.getElementById('messagePopup').style.display = 'block';
    }

    function closePopup() {
      document.getElementById('messagePopup').style.display = 'none';
    }

    function toggleTheme() {
      document.body.classList.toggle('dark');
    }

    // custom cursor
    const cursor = document.getElementById('cursor');
    document.addEventListener('mousemove', e => {
      cursor.style.left = e.pageX + 'px';
      cursor.style.top = e.pageY + 'px';

      const trail = document.createElement('div');
      trail.className = 'trail';
      trail.style.left = e.pageX + 'px';
      trail.style.top = e.pageY + 'px';
      document.body.appendChild(trail);
      setTimeout(() => trail.remove(), 600);
    });

    // background particles
    setInterval(() => {
      const p = document.createElement('div');
      p.className = 'particle';
      p.style.left = Math.random() * window.innerWidth + 'px';
      p.style.top = window.innerHeight + 'px';
      p.style.animationDuration = 8 + Math.random() * 6 + 's';
      document.body.appendChild(p);
      setTimeout(() => p.remove(), 14000);
    }, 800);

    // autoplay music after interaction
    document.body.addEventListener('click', () => {
      document.getElementById('bgm').play();
    }, { once: true });
  </script>
</body>
</html>
