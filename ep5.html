<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Episode 5 – Photo & Video Album</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
<style>
/* ---------- variables ---------- */
:root{
  --bg:#fff0f5; --text:#333; --accent:#ff8ecf;
}
body.starry{
  --bg:#0d0d2b; --text:#f0f0f0; --accent:#9d8dff;
}
/* ---------- base ---------- */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Nanum Pen Script',cursive;
  background:var(--bg);color:var(--text);overflow-x:hidden;cursor:none;
  transition:background .6s,color .6s;
}
/* ---------- header & theme btn ---------- */
h1{text-align:center;font-size:2.8rem;margin:28px 0}
#themeBtn{
  position:fixed;top:15px;right:15px;z-index:1200;
  background:var(--accent);color:#fff;border:none;border-radius:20px;
  padding:8px 18px;font-size:1rem;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.2)}
body.starry #themeBtn{background:#6b5bff}
/* ---------- album ---------- */
.album{display:flex;flex-direction:column;align-items:center;gap:48px;padding:30px}
.year{max-width:1000px;width:90%;text-align:center}
.year h2{font-size:2rem;margin-bottom:16px;color:var(--accent)}
.grid{
  display:flex;flex-wrap:wrap;gap:20px;justify-content:center;
}
.grid img,.grid video{
  width:200px;height:140px;object-fit:cover;border-radius:12px;cursor:pointer;
  transition:transform .3s}
.grid img:hover,.grid video:hover{transform:scale(1.05)}
/* helper rotate classes */
.rotate90{transform:rotate(90deg)}
.rotate270{transform:rotate(270deg)}
/* ---------- lightbox ---------- */
#lightbox{
  display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);
  justify-content:center;align-items:center;z-index:1100}
#lightboxContent{max-width:90%;max-height:90%}
#lightboxContent img,#lightboxContent video{max-width:100%;max-height:100%}
/* ---------- custom cursor + trail ---------- */
#cursor{
  width:22px;height:22px;border-radius:50%;background:var(--accent);
  position:fixed;pointer-events:none;z-index:1500;mix-blend-mode:difference;
  transform:translate(-50%,-50%)
}
.trail{
  position:fixed;width:8px;height:8px;border-radius:50%;background:var(--accent);
  pointer-events:none;z-index:1499;animation:fade .8s forwards}
@keyframes fade{to{opacity:0;transform:scale(0)}}
/* ---------- particles ---------- */
.particle{
  position:fixed;width:8px;height:8px;border-radius:50%;opacity:.6;pointer-events:none;
}
.lightParticle{background:pink;animation:float 12s linear infinite}
@keyframes float{to{transform:translateY(-120vh)}}
.shooting{background:#fff;width:3px;height:3px;border-radius:50%;animation:shoot 2s ease-out}
@keyframes shoot{to{transform:translate(400px,200px);opacity:0}}
/* ---------- easter egg ---------- */
#star{position:fixed;bottom:18px;left:18px;font-size:28px;opacity:.35;cursor:pointer;z-index:1200}
#star:hover{opacity:1}
#secret{
  display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  background:#fff0f7;padding:28px;border-radius:18px;box-shadow:0 0 25px rgba(0,0,0,.4);
  text-align:center;font-size:1.5rem;z-index:1300}
body.starry #secret{background:#2b2952;color:#fff}
</style>
</head>
<body>
<button id="themeBtn" onclick="toggleTheme()">🌙 Theme</button>
<div id="cursor"></div>
<h1>Episode 5 – A Memory Album</h1>

<div class="album">

  <!-- 2017 -->
  <section class="year">
    <h2>2017</h2>
    <div class="grid">
      <img src="2017.1.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.2.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.3.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.4.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.6.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.7.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.8.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.9.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.10.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.11.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.12.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.13.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.14.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.15.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.16.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.17.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.18.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.19.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.20.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.21.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.22.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.23.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.24.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.25.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.26.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.27.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.28.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.29.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.30.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.31.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.32.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.33.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.34.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.35.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.36.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.37.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.38.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.39.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.40.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.41.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.42.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.43.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.44.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.45.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.46.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.47.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.48.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.49.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.50.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.51.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.52.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.53.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.54.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.55.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.56.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.57.jpg" alt="2017 memory" onclick="openBox(this)">
      <img src="2017.58.jpg" alt="2017 memory" onclick="openBox(this)">
    </div>
  </section>
  
   <!-- 2018 -->
  <section class="year">
    <h2>2018</h2>
    <div class="grid">
      <img src="2018.1.jpg" alt="2018 memory" onclick="openBox(this)">
      <img src="2018.2.jpg" alt="2018 memory" onclick="openBox(this)">
      <img src="2018.3.jpg" alt="2018 memory" onclick="openBox(this)">
      <img src="2018.4.jpg" alt="2018 memory" onclick="openBox(this)">
    </div>
  </section>
  
  <!-- 2022 -->
  <section class="year">
    <h2>2022</h2>
    <div class="grid">
      <img src="2022.1.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.2.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.3.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.4.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.5.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.6.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.7.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.8.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.9.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.10.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.11.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.12.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.13.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.14.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.15.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.16.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.17.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.18.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.19.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.20.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.21.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.22.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.23.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.24.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.25.jpg" alt="2021 memory"  class="rotate270"  onclick="openBox(this)">
      <img src="2022.26.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.27.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.28.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.29.jpg" alt="2021 memory"  onclick="openBox(this)">
      <img src="2022.30.jpg" alt="2021 memory"  onclick="openBox(this)">
    </div>
  </section>

  <!-- 2023 -->
  <section class="year">
    <h2>2023</h2>
    <div class="grid">
      <img src="2023.1.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2023.2.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2023.3.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2023.4.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2023.5.jpg" alt="2022 memory" onclick="openBox(this)">
    </div>
  </section>

  <!-- 2024 -->
  <section class="year">
    <h2>2024</h2>
    <div class="grid">
      <img src="2024.1.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.2.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.3.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.4.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.5.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.6.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.7.jpg" alt="2022 memory" onclick="openBox(this)">
      <img src="2024.8.jpg" alt="2022 memory" class="rotate270" onclick="openBox(this)">
    </div>
  </section>

  <a href="ep4.html" id="nextBtn"><button class="themeBtn" disabled>Go to Episode 4 ⬅️</button></a>
  <a href="ep6.html" id="nextBtn"><button class="themeBtn" disabled>Go to Episode 6 ➡️</button></a>
</div>



<!-- lightbox -->
<div id="lightbox" onclick="closeBox()">
  <div id="lightboxContent"></div>
</div>

<!-- Easter star & secret -->
<div id="star" onclick="revealSecret()">✨</div>
<div id="secret">💖 Hidden note: the best memories are still ahead of us!</div>

<!-- BGM -->
<audio id="bgm" loop><source src="Song1.mp3" type="audio/mpeg"></audio>

<script>
// ---------- theme toggle ----------
function toggleTheme(){
  document.body.classList.toggle('starry');
}

/* ---------- custom cursor & trail ---------- */
const cur=document.getElementById('cursor');
document.addEventListener('mousemove',e=>{
  cur.style.left=e.pageX+'px';cur.style.top=e.clientY+'px';
  const t=document.createElement('div');t.className='trail';
  t.style.left=e.pageX+'px';t.style.top=e.clientY+'px';
  document.body.appendChild(t);setTimeout(()=>t.remove(),700);
});

/* ---------- particles ---------- */
function spawnParticle(){
  if(!document.body.classList.contains('starry')){
    const p=document.createElement('div');
    p.className='particle lightParticle';
    const size=6+Math.random()*6;
    p.style.width=p.style.height=size+'px';
    p.style.left=Math.random()*innerWidth+'px';
    p.style.top=innerHeight+40+'px';
    p.style.animationDuration=6+Math.random()*6+'s';
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),12000);
  }else{
    const s=document.createElement('div');
    s.className='particle shooting';
    s.style.top=Math.random()*innerHeight*0.6+'px';
    s.style.left=Math.random()*innerWidth*0.4+'px';
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),2000);
  }
}
setInterval(spawnParticle,800);

/* ---------- lightbox ---------- */
function openBox(el){
  const box=document.getElementById('lightbox');
  const holder=document.getElementById('lightboxContent');
  holder.innerHTML=el.outerHTML.replace('width="200"','').replace('height="140"','');
  box.style.display='flex';
}
function closeBox(){document.getElementById('lightbox').style.display='none';}

/* ---------- rotate helpers ----------
   Add class="rotate90" or rotate270 to any <img> needing fix */

/* ---------- easter egg ---------- */
function revealSecret(){
  document.getElementById('secret').style.display='block';
}

/* ---------- autoplay music after first click ---------- */
document.body.addEventListener('click',()=>bgm.play(),{once:true});
</script>
</body>
</html>
